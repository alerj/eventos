(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5OWj":function(t,e,n){"use strict";var i=n("L2JU");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={methods:a({},Object(i.mapActions)("events",["clearForm"])),computed:a({},Object(i.mapState)({events:function(t){return t.events},subEvents:function(t){return t.subEvents},invitations:function(t){return t.invitations}}))}},mNot:function(t,e,n){"use strict";n.r(e);var i,s=n("jx1L"),a=n("5OWj"),o=n("CtO9"),c=n("L2JU");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={name:"events",uri:"events"},u={mixins:[s.a,a.a,o.a],data:function(){return{service:d,downloading:!1}},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.mapActions)(d.name,["selectEvent","selectSubEvent","selectInvitation"]),(i={eventsGotoPage:function(t){this.gotoPage(t,"events",this.events.data.links.pagination)},subEventsGotoPage:function(t){this.gotoPage(t,"subEvents",this.subEvents.data.links.pagination)},invitationsGotoPage:function(t){this.gotoPage(t,"invitations",this.invitations.data.links.pagination)},unInvite:function(t){var e=this;confirm("Deseja realmente desconvidar "+t.person_institution.person.name+"?",this).then((function(n){if(n)return e.$store.dispatch("invitations/unInvite",t)}))},markAsAccepted:function(t){var e=this;confirm("Deseja realmente confirmar a presença de "+t.person_institution.person.name+"?",this).then((function(n){if(n)return e.$store.dispatch("invitations/markAsAccepted",t)}))},markAsReceived:function(t,e){var n=this;confirm("Deseja realmente marcar como recebido o covite de "+t.person_institution.person.name+"?",this).then((function(i){if(i)return n.$store.dispatch("invitations/markAsReceived",{invitation:t,type:e})}))},markAsDeclined:function(t){var e=this;confirm("Deseja realmente declinar a presença de "+t.person_institution.person.name+"?",this).then((function(n){if(n)return e.$store.dispatch("invitations/markAsDeclined",t)}))},downloadInvitation:function(t){t.busy=!0,downloadPDF(this.$store.getters["invitations/getDataUrl"]+"/"+t.id+"/download").then((function(){t.busy=!1}))},sendCredential:function(t){var e=this;t.busy=!0,confirm("Deseja realmente enviar as credencias para "+t.person_institution.person.name+"?",this).then((function(n){if(n)return e.$store.dispatch("invitations/sendCredentials",t)}))},sendInvitation:function(t){var e=this;t.busy=!0,confirm("Deseja realmente enviar o convite para "+t.person_institution.person.name+"?",this).then((function(n){if(n)return e.$store.dispatch("invitations/sendInvitation",t)}))},confirmSubEvent:function(t){var e=this;confirm("Deseja realmente confirmar "+t.name+"?",this).then((function(n){if(n)return e.$store.dispatch("subEvents/confirm",t)}))},finalizeSubEvent:function(t){var e=this;confirm("Deseja realmente confirmar que o evento foi realizado "+t.name+"?",this).then((function(n){n&&e.finalizeSubEventReconfirmed(t)}))},finalizeSubEventReconfirmed:function(t){var e=this;confirm("Tem certeza que deseja marcar este sub-evento como realizado?",this).then((function(n){if(n)return e.$store.dispatch("subEvents/finalize",t)}))},sendInvitations:function(t){var e=this;confirm("Você tem certeza que deseja enviar todos os convites agora?",this).then((function(n){if(n)return t.busy=!0,e.$store.dispatch("events/sendInvitations",t).then((function(){t.busy=!1}))}))},sendCredentials:function(t){var e=this;confirm("Você tem certeza que deseja enviar todas as credenciais agora?",this).then((function(n){if(n)return t.busy=!0,e.$store.dispatch("events/sendCredentials",t).then((function(){t.busy=!1}))}))}},l(i,"sendCredentials",(function(t){var e=this;confirm("Você tem certeza que deseja enviar todas as credenciais agora?",this).then((function(n){if(n)return t.busy=!0,e.$store.dispatch("events/sendCredentials",t).then((function(){t.busy=!1}))}))})),l(i,"downloadSubEventPDF",(function(t){var e=this;this.downloading=!0,downloadPDF(this.$store.getters["subEvents/getDataUrl"]+"/"+t.id+"/download").then((function(){e.downloading=!1}))})),l(i,"canSendEmail",(function(t){return t.has_email&&t.sub_event.confirmed_at})),l(i,"replicateCommonInfo",(function(t){var e=this;confirm('Você tem certeza que replicar os textos de "'+t.name+" - "+t.sector.name+'" para os outros sub-eventos?',this).then((function(n){confirm("CERTEZA ABSOLUTA?",e).then((function(n){if(n)return t.busy=!0,e.$store.dispatch("subEvents/replicateCommonInfo",t).then((function(){t.busy=!1}))}))}))})),l(i,"filterNotifications",(function(t,e){return _.filter(t,(function(t){return t.content_type===e}))})),l(i,"filterNotificationsReceived",(function(t,e){return _.filter(this.filterNotifications(t,e),(function(t){return t.received_at}))})),i)),computed:{eventsFilterText:{get:function(){return this.$store.state.events.data.filter.text},set:function(t){return this.$store.dispatch(this.service.name+"/mutateSetQueryFilterText",t)}},eventsPerPage:{get:function(){return this.$store.state.events.data.links.pagination.per_page},set:function(t){return this.$store.dispatch("events/setPerPage",t)}},subEventsFilterText:{get:function(){return this.$store.state.subEvents.data.filter.text},set:function(t){return this.$store.dispatch("subEvents/mutateSetQueryFilterText",t)}},subEventsPerPage:{get:function(){return this.$store.state.subEvents.data.links.pagination.per_page},set:function(t){return this.$store.dispatch("subEvents/setPerPage",t)}},invitationsFilterText:{get:function(){return this.$store.state.invitations.data.filter.text},set:function(t){return this.$store.dispatch("invitations/mutateSetQueryFilterText",t)}},hasNoEmailCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.hasNoEmail},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"hasNoEmail",value:t}),this.$store.dispatch("invitations/load")}},sentCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.sent},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"sent",value:t}),this.$store.dispatch("invitations/load")}},notSentCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.notSent},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"notSent",value:t}),this.$store.dispatch("invitations/load")}},receivedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.received},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"received",value:t}),this.$store.dispatch("invitations/load")}},notReceivedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.notReceived},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"notReceived",value:t}),this.$store.dispatch("invitations/load")}},credentialsSentCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.credentialsSent},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"credentialsSent",value:t}),this.$store.dispatch("invitations/load")}},credentialsNotSentCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.credentialsNotSent},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"credentialsNotSent",value:t}),this.$store.dispatch("invitations/load")}},credentialsReceivedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.credentialsReceived},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"credentialsReceived",value:t}),this.$store.dispatch("invitations/load")}},credentialsNotReceivedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.credentialsNotReceived},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"credentialsNotReceived",value:t}),this.$store.dispatch("invitations/load")}},acceptedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.accepted},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"accepted",value:t}),this.$store.dispatch("invitations/load")}},declinedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.declined},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"declined",value:t}),this.$store.dispatch("invitations/load")}},notAcceptedCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.notAccepted},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"notAccepted",value:t}),this.$store.dispatch("invitations/load")}},notCheckedInCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.notCheckedIn},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"notCheckedIn",value:t}),this.$store.dispatch("invitations/load")}},notAnsweredCheckbox:{get:function(){return this.$store.state.invitations.data.filter.checkboxes.notAnswered},set:function(t){this.$store.commit("invitations/mutateFilterCheckbox",{field:"notAnswered",value:t}),this.$store.dispatch("invitations/load")}},invitationsPerPage:{get:function(){return this.$store.state.invitations.data.links.pagination.per_page},set:function(t){return this.$store.dispatch("invitations/setPerPage",t)}}}},v=n("KHd+"),b=Object(v.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"py-2 text-center"},[t._m(0),t._v(" "),t.selected.id&&t.events.data.links?n("div",{staticClass:"row bg-primary text-white"},[n("div",{staticClass:"col-12 mt-2"},[n("h3",[t._v("\n                    "+t._s(t.selected.name)+"\n\n                    "),t.subEvents.selected&&t.subEvents.selected.id==t.events.selected.id&&t.subEvents.selected.name?n("span",[t._v("\n                        - "+t._s(t.subEvents.selected.name)+"\n                    ")]):t._e()])])]):t._e()]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-lg-4"},[n("app-table-panel",{attrs:{title:"Eventos ("+t.pagination.total+")","add-button":{uri:"/events/create",disabled:t.cannot("events:modify"),dusk:"create-event-button"},"per-page":t.eventsPerPage,"filter-text":t.eventsFilterText},on:{"set-per-page":function(e){t.eventsPerPage=e},"input-filter-text":function(e){t.eventsFilterText=e.target.value}}},[n("app-table",{attrs:{pagination:t.events.data.links.pagination,columns:["Nome",""]},on:{"goto-page":function(e){return t.eventsGotoPage(e)}}},t._l(t.events.data.rows,(function(e){return n("tr",{class:{"cursor-pointer":!0,"bg-primary-lighter text-white":t.isCurrent(e,t.selected)},on:{click:function(n){return t.selectEvent(e)}}},[n("td",{staticClass:"align-middle text-left",attrs:{dusk:"click-event"}},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle text-right"},[n("router-link",{staticClass:"btn btn-primary btn-sm ml-1 pull-right",attrs:{to:"receptive/"+e.id,tag:"div",title:"Receptivo"}},[n("i",{staticClass:"fas fa-user-friends"})]),t._v(" "),n("button",{staticClass:"btn btn-info btn-sm text-white btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Enviar todas as credenciais não enviadas"},on:{click:function(n){return t.sendCredentials(e)}}},[e.busy?t._e():n("i",{staticClass:"fa fa-landmark"}),t._v(" "),e.busy?n("i",{staticClass:"fa fa-cog fa-spin"}):t._e()]),t._v(" "),n("button",{staticClass:"btn btn-warning btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Enviar todos os convites não enviados"},on:{click:function(n){return t.sendInvitations(e)}}},[e.busy?t._e():n("i",{staticClass:"fa fa-angle-double-right"}),t._v(" "),e.busy?n("i",{staticClass:"fa fa-cog fa-spin"}):t._e()]),t._v(" "),n("router-link",{staticClass:"btn btn-danger btn-sm btn-table-utility ml-1 pull-right",attrs:{to:"/events/"+e.id+"/update",tag:"button",disabled:t.cannot("events:modify"),title:"Editar Evento"}},[n("i",{staticClass:"fa fa-edit"})])],1)])})),0)],1)],1),t._v(" "),n("div",{staticClass:"col-12 col-lg-8"},[(t.can("subevents:read")||t.can("subevents:modify"))&&t.selected.id&&t.subEvents.data.links?n("app-table-panel",{attrs:{title:t.selected.name+" ("+t.subEvents.data.links.pagination.total+" subeventos)","add-button":{uri:"/events/"+t.subEvents.event.id+"/sub-events/create",disabled:t.cannot("subevents:modify"),dusk:"create-sub-event"},"per-page":t.subEventsPerPage,"filter-text":t.subEventsFilterText},on:{"set-per-page":function(e){t.subEventsPerPage=e},"input-filter-text":function(e){t.subEventsFilterText=e.target.value}}},[n("app-table",{attrs:{pagination:t.subEvents.data.links.pagination,columns:["Setor","Nome",{type:"label",title:"Convidados",trClass:"text-right"},"Data","Hora","Confirmado","Realizado",""]},on:{"goto-page":function(e){return t.subEventsGotoPage(e)}}},t._l(t.subEvents.data.rows,(function(e){return n("tr",{staticClass:"cursor-pointer",class:{"cursor-pointer":!0,"bg-primary-lighter text-white":t.isCurrent(e,t.subEvents.selected)},on:{click:function(n){return t.selectSubEvent(e)}}},[n("td",{staticClass:"align-middle"},[n("app-sector-badge",{attrs:{sector:e.sector,uppercase:"true",padding:"2"}})],1),t._v(" "),n("td",{staticClass:"align-middle"},[n("strong",[t._v(t._s(e.name))]),n("br"),t._v("\n                            "+t._s(e.place)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle text-right"},[t._v("\n                            "+t._s(e.invitations_count)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle",attrs:{dusk:"sub-event"}},[t._v("\n                            "+t._s(e.date)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle"},[t._v(t._s(e.time))]),t._v(" "),n("td",{staticClass:"align-middle"},[t._v("\n                            "+t._s(e.confirmed_at)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle"},[t._v("\n                            "+t._s(e.ended_at)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle text-right subevents-buttons"},[e.associated_subevent_id?t._e():n("button",{staticClass:"btn btn-info btn-sm btn-table-utility text-white ml-1 pull-right",attrs:{disabled:t.cannot("subevents:modify"),title:"Replicar textos para todos os outros subeventos"},on:{click:function(n){return t.replicateCommonInfo(e)}}},[n("i",{staticClass:"fa fa-copy"})]),t._v(" "),e.confirmed_at?t._e():n("button",{staticClass:"btn btn-success btn-sm btn-table-utility ml-1 pull-right",attrs:{dusk:"confirm-subevent",disabled:t.cannot("subevents:modify")||!t.environment.events.confirmation.enabled,title:"Confirmar Sub-evento"},on:{click:function(n){return t.confirmSubEvent(e)}}},[n("i",{staticClass:"fa fa-check"})]),t._v(" "),!e.ended_at&&e.confirmed_at?n("button",{staticClass:"btn btn-primary btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:modify"),title:"Finalizar Sub-evento"},on:{click:function(n){return t.finalizeSubEvent(e)}}},[n("i",{staticClass:"fa fa-times-circle"})]):t._e(),t._v(" "),n("router-link",{staticClass:"btn btn-danger btn-sm btn-table-utility ml-1 pull-right",attrs:{to:"events/"+t.subEvents.event.id+"/sub-events/"+e.id+"/update",tag:"button",disabled:t.cannot("subevents:modify"),title:"Editar Sub-evento"}},[n("i",{staticClass:"fa fa-edit"})]),t._v(" "),n("button",{staticClass:"btn btn-warning btn-sm btn-table-utility ml-1 pull-right",attrs:{title:"Imprimir lista de convidados"},on:{click:function(n){return t.downloadSubEventPDF(e)}}},[t.downloading?t._e():n("i",{staticClass:"fa fa-print"}),t._v(" "),t.downloading?n("i",{staticClass:"fa fa-cog fa-spin"}):t._e()])],1)])})),0)],1):t._e()],1)]),t._v(" "),t.invitations.subEvent.id?n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[(t.can("subevents:read")||t.can("subevents:modify"))&&t.selected.id&&t.invitations.data.links?n("app-table-panel",{attrs:{title:t.invitations.data.links.pagination.total+" convidado"+(1==t.invitations.data.links.pagination.total?"":"s")+" para "+t.subEvents.selected.name+" de "+t.selected.name,"add-button":{uri:"/events/"+t.subEvents.event.id+"/sub-events/"+t.subEvents.selected.id+"/invitations/create",disabled:t.cannot("subevents:invite"),dusk:"add-guest"},"per-page":t.invitationsPerPage,"filter-text":t.invitationsFilterText,"dont-center-filters":"true"},on:{"set-per-page":function(e){t.invitationsPerPage=e},"input-filter-text":function(e){t.invitationsFilterText=e.target.value}}},[n("template",{slot:"checkboxes"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"hasNoEmailCheckbox",label:"sem e-mail",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.hasNoEmailCheckbox,callback:function(e){t.hasNoEmailCheckbox=e},expression:"hasNoEmailCheckbox"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"sentCheckbox",label:"enviados",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.sentCheckbox,callback:function(e){t.sentCheckbox=e},expression:"sentCheckbox"}}),t._v(" "),n("br"),t._v(" "),n("app-input",{attrs:{name:"notSentCheckbox",label:"não enviados",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.notSentCheckbox,callback:function(e){t.notSentCheckbox=e},expression:"notSentCheckbox"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"receivedCheckbox",label:"recebidos",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.receivedCheckbox,callback:function(e){t.receivedCheckbox=e},expression:"receivedCheckbox"}}),t._v(" "),n("br"),t._v(" "),n("app-input",{attrs:{name:"notReceivedCheckbox",label:"não recebidos",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.notReceivedCheckbox,callback:function(e){t.notReceivedCheckbox=e},expression:"notReceivedCheckbox"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"acceptedCheckbox",label:"aceitos",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.acceptedCheckbox,callback:function(e){t.acceptedCheckbox=e},expression:"acceptedCheckbox"}}),t._v(" "),n("br"),t._v(" "),n("app-input",{attrs:{name:"notAcceptedCheckbox",label:"não aceitos",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.notAcceptedCheckbox,callback:function(e){t.notAcceptedCheckbox=e},expression:"notAcceptedCheckbox"}}),t._v(" "),n("app-input",{attrs:{name:"declinedCheckbox",label:"declinados",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.declinedCheckbox,callback:function(e){t.declinedCheckbox=e},expression:"declinedCheckbox"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"credentialsSentCheckbox",label:"credenciais enviadas",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.credentialsSentCheckbox,callback:function(e){t.credentialsSentCheckbox=e},expression:"credentialsSentCheckbox"}}),t._v(" "),n("br"),t._v(" "),n("app-input",{attrs:{name:"credentialsNotSentCheckbox",label:"credenciais não enviadas",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.credentialsNotSentCheckbox,callback:function(e){t.credentialsNotSentCheckbox=e},expression:"credentialsNotSentCheckbox"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"credentialsReceivedCheckbox",label:"credenciais recebidas",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.credentialsReceivedCheckbox,callback:function(e){t.credentialsReceivedCheckbox=e},expression:"credentialsReceivedCheckbox"}}),t._v(" "),n("br"),t._v(" "),n("app-input",{attrs:{name:"credentialsNotReceivedCheckbox",label:"credenciais não recebidas",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.credentialsNotReceivedCheckbox,callback:function(e){t.credentialsNotReceivedCheckbox=e},expression:"credentialsNotReceivedCheckbox"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("app-input",{attrs:{name:"notCheckedInCheckbox",label:"não fizeram check in",type:"checkbox",required:!0,form:t.form,inline:"true"},model:{value:t.notCheckedInCheckbox,callback:function(e){t.notCheckedInCheckbox=e},expression:"notCheckedInCheckbox"}})],1)])]),t._v(" "),n("app-table",{attrs:{pagination:t.invitations.data.links.pagination,columns:["Código","Convidado",{type:"label",title:"Pendências",trClass:"text-center"},{type:"label",title:"Convite",trClass:"text-center"},{type:"label",title:"Credencial",trClass:"text-center"},{type:"label",title:"Check in",trClass:"text-center"},""]},on:{"goto-page":function(e){return t.invitationsGotoPage(e)}}},t._l(t.invitations.data.rows,(function(e){return n("tr",{class:{"cursor-pointer":!0,"bg-primary-lighter text-white":t.isCurrent(e,t.invitations.selected)},on:{click:function(n){return t.selectInvitation(e)}}},[n("td",{staticClass:"align-middle"},[t._v(t._s(e.code))]),t._v(" "),n("td",{staticClass:"align-middle"},[n("strong",[t._v(t._s(e.person_institution.person.name))]),t._v("\n\n                            ("+t._s(e.person_institution.title)+")\n\n                            "),n("br"),t._v("\n\n                            "+t._s(e.person_institution.role.name)+" -\n                            "+t._s(e.person_institution.institution.name)+"\n\n                            "),n("router-link",{staticClass:"badge bg-info text-white cursor-pointer",attrs:{to:"/events/"+e.sub_event.event.id+"/sub-events/"+e.sub_event.id+"/invitations/"+e.id+"/change",tag:"button",disabled:t.cannot("subevents:invite")||t.cannot("people:modify"),title:"modificar instituição"}},[n("i",{staticClass:"fa fa-edit"})])],1),t._v(" "),n("td",{staticClass:"align-middle text-center"},t._l(e.pending,(function(e){return n("h6",{staticClass:"m-0"},[n("span",{class:"badge badge-"+e.type},[t._v(t._s(e.label))])])})),0),t._v(" "),n("td",{staticClass:"align-middle text-center"},[n("h6",{staticClass:"mb-0"},[e.sent_at?n("span",{staticClass:"badge badge-success"},[t._v("enviados:\n                                    "+t._s(t.filterNotifications(e.notifications,"invitation").length))]):n("span",{staticClass:"badge badge-danger"},[t._v("não enviado")])]),t._v(" "),n("h6",{staticClass:"mb-0"},[e.received_at&&!e.received_by_id?n("span",{staticClass:"badge badge-success"},[t._v("recebidos:\n                                    "+t._s(t.filterNotificationsReceived(e.notifications,"invitation").length))]):t._e(),t._v(" "),e.received_at&&e.received_by_id?n("span",{staticClass:"badge badge-warning"},[t._v("recebido manualmente")]):t._e(),t._v(" "),e.received_at?t._e():n("span",{staticClass:"badge badge-danger"},[t._v("não recebido")])]),t._v(" "),n("h6",{staticClass:"mb-0"},[e.accepted_at&&e.accepted_by_id?n("span",{staticClass:"badge badge-warning"},[t._v("aceito manualmente")]):t._e(),t._v(" "),e.declined_at&&e.declined_by_id?n("span",{staticClass:"badge badge-warning"},[t._v("declinado manualmente")]):t._e(),t._v(" "),e.sent_at?[e.received_at||e.accepted_at||e.declined_at?t._e():n("span",{staticClass:"badge badge-danger"},[t._v("não recebido")]),t._v(" "),!e.received_at||e.accepted_at||e.declined_at?t._e():n("span",{staticClass:"badge badge-primary"},[t._v("não respondeu")]),t._v(" "),!e.accepted_by_id&&e.accepted_at?n("span",{staticClass:"badge badge-success"},[t._v("aceitou")]):t._e(),t._v(" "),!e.declined_by_id&&e.declined_at?n("span",{staticClass:"badge badge-danger"},[t._v("declinou")]):t._e()]:t._e()],2)]),t._v(" "),n("td",{staticClass:"align-middle text-center"},[e.declined_at?n("span",[n("h6",{staticClass:"mb-0"},[n("span",{staticClass:"badge badge-primary"},[t._v("convite declinado")])])]):n("span",[n("h6",{staticClass:"mb-0"},[e.credentials_sent_at?n("span",{staticClass:"badge badge-success"},[t._v("enviadas:\n                                        "+t._s(t.filterNotifications(e.notifications,"credentials").length))]):n("span",{staticClass:"badge badge-danger"},[t._v("não enviada")])]),t._v(" "),n("h6",{staticClass:"mb-0"},[e.credentials_received_at&&!e.credentials_received_by_id?n("span",{staticClass:"badge badge-success"},[t._v("recebidas:\n                                        "+t._s(t.filterNotificationsReceived(e.notifications,"credentials").length))]):t._e(),t._v(" "),e.credentials_received_at&&e.credentials_received_by_id?n("span",{staticClass:"badge badge-warning"},[t._v("recebida manualmente")]):t._e(),t._v(" "),e.credentials_received_at?t._e():n("span",{staticClass:"badge badge-danger"},[t._v("não recebida")])])])]),t._v(" "),n("td",{staticClass:"align-middle text-center"},[t._v("\n                            "+t._s(e.checkin_at)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle text-right"},[t.can("subevents:invite")&&t.canSendEmail(e)&&e.sub_event.send_invitations?n("button",{staticClass:"btn btn-info btn-sm btn-sm btn-table-utility text-white ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Enviar convite"},on:{click:function(n){return t.sendInvitation(e)}}},[n("i",{staticClass:"fa fa-mail-bulk",attrs:{dusk:"enviar-convite"}})]):t._e(),t._v(" "),t.can("subevents:invite")&&t.canSendEmail(e)&&e.sub_event.send_credentials?n("button",{staticClass:"btn btn-info btn-sm btn-sm btn-table-utility text-white ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite")||!e.accepted_at,title:"Enviar credenciais"},on:{click:function(n){return t.sendCredential(e)}}},[n("i",{staticClass:"fa fa-landmark",attrs:{dusk:"send-credentials"}})]):t._e(),t._v(" "),t.can("subevents:modify")&&e.sub_event.confirmed_at&&!e.received_at?n("button",{staticClass:"btn btn-success btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Marcar o convite como 'recebido manualmente'"},on:{click:function(n){return t.markAsReceived(e,"invitation")}}},[n("i",{staticClass:"fa fa-check"})]):t._e(),t._v(" "),t.can("subevents:invite")&&e.sub_event.confirmed_at&&e.accepted_at&&!e.credentials_received_at?n("button",{staticClass:"btn btn-warning btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Marcar as credenciais como 'recebida manualmente'"},on:{click:function(n){return t.markAsReceived(e,"credentials")}}},[n("i",{staticClass:"fa fa-check"})]):t._e(),t._v(" "),t.can("subevents:invite")&&e.sub_event.confirmed_at&&!e.accepted_at?n("button",{staticClass:"btn btn-success btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Aceitar o convite manualmente"},on:{click:function(n){return t.markAsAccepted(e)}}},[n("i",{staticClass:"fa fa-check-double",attrs:{dusk:"accept-invitation"}})]):t._e(),t._v(" "),t.can("subevents:invite")&&e.sub_event.confirmed_at&&!e.declined_at?n("button",{staticClass:"btn btn-danger btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Declinar o convite manualmente"},on:{click:function(n){return t.markAsDeclined(e)}}},[n("i",{staticClass:"fa fa-calendar-times"})]):t._e(),t._v(" "),t.can("subevents:read")&&t.canSendEmail(e)&&e.accepted_at?n("button",{staticClass:"btn btn-warning btn-sm btn-table-utility ml-1 pull-right",attrs:{title:"Baixar PDF das credenciais"},on:{click:function(n){return t.downloadInvitation(e)}}},[e.busy?t._e():n("i",{staticClass:"fa fa-id-badge"}),t._v(" "),e.busy?n("i",{staticClass:"fa fa-cog fa-spin"}):t._e()]):t._e(),t._v(" "),n("router-link",{staticClass:"btn btn-warning btn-sm btn-table-utility ml-1 pull-right",attrs:{to:"/events/"+e.sub_event.event.id+"/sub-events/"+e.sub_event.id+"/invitations/"+e.id+"/show",tag:"button",title:"Ver todos os dados do convite"}},[n("i",{staticClass:"fa fa-eye"})]),t._v(" "),e.sent_at?t._e():n("button",{staticClass:"btn btn-danger btn-sm btn-table-utility ml-1 pull-right",attrs:{disabled:t.cannot("subevents:invite"),title:"Excluir convite (ainda não foi enviado)"},on:{click:function(n){return t.unInvite(e)}}},[n("i",{staticClass:"fa fa-trash"})])],1)])})),0)],2):t._e()],1)]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h2",[this._v("Eventos")])])])}],!1,null,null,null);e.default=b.exports}}]);