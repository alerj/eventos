(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{v9qE:function(t,e,n){"use strict";n.r(e);var a=n("jx1L"),r=n("L2JU");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={methods:o({},Object(r.mapActions)("uploadedFiles",["clearForm"])),computed:o({},Object(r.mapState)({uploadedFiles:function(t){return t.uploadedFiles}}))},c=n("CtO9"),u={name:"uploadedFiles",uri:"uploaded-files"},p={mixins:[a.a,l,c.a],data:function(){return{service:u,showModal:!1,image:{copyAlert:{dismissSecs:2,dismissCountDown:0,show:!1}},modalShow:!1}},methods:{countDownChanged:function(t){this.image.copyAlert.dismissCountDown=t},onCopy:function(t){this.image.copyAlert.dismissCountDown=this.image.copyAlert.dismissSecs},onError:function(t){alert("Failed to copy texts")},createDocument:function(){this.showModal=!0}}},d=n("KHd+"),m=Object(d.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("b-alert",{attrs:{show:t.image.copyAlert.dismissCountDown,dismissible:"",variant:"warning"},on:{"dismiss-count-down":t.countDownChanged}},[t._v("\n        URL copiada para a área de transferência\n    ")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-lg-4"},[t.can("events:read")||t.can("events:modify")?n("app-table-panel",{attrs:{title:"Imagens ("+t.pagination.total+")","per-page":t.perPage,"filter-text":t.filterText},on:{"input-filter-text":function(e){t.filterText=e.target.value},"set-per-page":function(e){t.perPage=e}}},[n("template",{slot:"buttons"},[n("b-button",{staticClass:"btn btn-primary btn-sm pull-right",attrs:{title:"Novo documento"},on:{click:function(e){return t.createDocument()}}},[n("i",{staticClass:"fa fa-plus"})])],1),t._v(" "),n("app-table",{attrs:{pagination:t.pagination,columns:["#","Nome",""]},on:{"goto-page":function(e){return t.gotoPage(e)}}},t._l(t.uploadedFiles.data.rows,(function(e){return n("tr",{class:{"cursor-pointer":!0,"bg-primary-lighter text-white":t.isCurrent(e,t.selected)},on:{click:function(n){return t.select(e)}}},[n("td",{staticClass:"align-middle"},[t._v(t._s(e.id))]),t._v(" "),n("td",{staticClass:"align-middle"},[t._v("\n                            "+t._s(e.original_name)+"\n                        ")]),t._v(" "),n("td",{staticClass:"align-middle text-right"},[n("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.sharing_url,expression:"file.sharing_url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"btn btn-info btn-sm btn-table-utility text-white ml-1 pull-right",attrs:{title:"Copiar link da imagem para convite"}},[n("i",{staticClass:"fa fa-copy"})]),t._v(" "),n("a",{staticClass:"btn btn-sm btn-micro btn-warning cursor-pointer",attrs:{href:e.url,target:"_blank",title:"Visualizar imagem"}},[n("i",{staticClass:"fa fa-eye"})])])])})),0),t._v(" "),n("app-document-form",{attrs:{show:t.showModal,environment:t.environment},on:{"update:show":function(e){t.showModal=e},"update:environment":function(e){t.environment=e}}})],2):t._e()],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-2 text-center"},[e("h2",[this._v("Imagens")])])}],!1,null,null,null);e.default=m.exports}}]);